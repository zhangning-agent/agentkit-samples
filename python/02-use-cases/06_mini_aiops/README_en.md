# AI Operations Agent - Mini AIOps

## Overview

> This project, developed based on VeADK, implements an AI-based intelligent operations tool.

## Core Features

This project provides the following core features:

- **Intelligent Cloud Resource Inspection**: Automatically reviews the running status of cloud resources to identify potential risks.
- **One-click Problem Diagnosis**: Provides fault cause analysis by combining logs, monitoring, and host diagnostics.
- **Operations Q&A**: Answers common operational questions and SOP procedures based on a built-in knowledge base.
- **Multi-Agent Collaboration**: Automatically performs some operational tasks through MCP tools like CCAPI.
- **Short and Long-term Memory**: Provides a continuous operational assistant experience by combining session memory with long-term memory.

## Agent Capabilities

This project currently includes a main control Agent and a sub-Agent:

- **ve_ai_ops_agent**: A main control Agent for cloud computing operations scenarios, responsible for understanding user needs and planning inspection, diagnosis, and optimization processes.
- **ccapi_agent**: A sub-Agent focused on cloud resource management, which views and adjusts cloud resource configurations through the CCAPI MCP toolset.

## Local Execution

### Environment Preparation

Before you begin, ensure your development environment meets the following requirements:

- Python 3.10 or higher
- VeADK 0.2.28 or higher
- It is recommended to use `uv` for dependency management.
- <a target="_blank" href="https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey">Get Volcano Ark API KEY</a>
- <a target="_blank" href="https://console.volcengine.com/iam/keymanage/">Get Volcano Engine AK/SK</a>

### Quick Start

Follow these steps to deploy and run this project locally.

#### 1. Download the Code and Install Dependencies

```bash
# Clone the code repository
git clone https://github.com/volcengine/agentkit-samples.git
cd python/02-use-cases/06_mini_aiops

# Install project dependencies
uv sync --index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

#### 2. Configure Environment Variables

```bash
export MODEL_AGENT_API_KEY="xxxxx"
export VOLCENGINE_ACCESS_KEY="xxxxxx"
export VOLCENGINE_SECRET_KEY="xxxxxx"
```

#### 4. Start the Service

1.  Ensure that the environment variables are configured correctly.

2.  Start the test locally with `veadk web` (Note: Please remain in the `agentkit-samples/02-use-cases` directory).

```bash
veadk web
```

1. Go to the service URL `http://127.0.0.1:8000`.
2. Select `06_mini_aiops`.
3. Chat with the Agent.

#### 5. Test the Service

![image1](./img/image1.png)

## Directory Structure

```plaintext
06_mini_aiops/
├── agent.py        # AIOps Agent definition
├── README.md       # Instructions and feature introduction
├── requirements.txt# Dependency list (based on veadk-python)
├── pyproject.toml  # Project configuration (uv/build configuration)
├── sop_aiops.md    # Operations SOP document (can be imported into the knowledge base)
├── img/            # Screenshot images used in README
└── uv.lock         # Lock file generated by uv
```

## AgentKit Deployment

```bash
# 1. Enter the `06_mini_aiops` directory
cd 06_mini_aiops
# 2. Initialize configuration
agentkit config
# 3. Configure according to the instructions
# Note: Step 7 does not require setting environment variables, and in step 8 you can choose cloud mode.

# 4. Deploy
agentkit launch
```

After the deployment process is complete, since the operations MCP tool requires ECS-related permissions, please go to the console to grant the relevant permissions.

Enter the console

![image4](./img/image4.png)

Grant the relevant permissions

![image5](./img/image5.png)

## Example Prompts

Here are some common example prompts:

"Create an IAM user"
"View existing ECS instances"
"List available resource types"
"Update the configuration of a resource"

## Demonstration

During deployment, the console interface
![image2](./img/image2.png)
After deployment is complete, the bash interface
![image3](./img/image3.png)

Online test successful
![image6](./img/image6.png)

## FAQ

A list of frequently asked questions is to be added.

## Code License

This project is licensed under an open-source license. For details, please refer to the LICENSE file in the project root directory.
